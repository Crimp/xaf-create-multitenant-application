@inject IJSRuntime JS
@implements IAsyncDisposable

@code {
    IJSObjectReference _moduleRef;

    [Parameter]
    public EventCallback ResourcesLoaded { get; set; }

    protected override async Task OnInitializedAsync(){
        _moduleRef = await JS.InvokeAsync<IJSObjectReference>("import", "./Components/DevExtreme/DevExtremeResources.razor.js");
        await _moduleRef.InvokeVoidAsync("ensureDevExtremeAsync");
        await ResourcesLoaded.InvokeAsync();        
        
    }

    protected sealed override async Task OnAfterRenderAsync(bool firstRender) {
        if (firstRender) {
            
        }
    }

    async ValueTask IAsyncDisposable.DisposeAsync() {
        if(_moduleRef is not null)
            await _moduleRef.DisposeAsync();
    }
}